'use strict';var calendarLoaded=!1;window.Calendar_CalendarExtended_Js=class extends Calendar_Calendar_Js{constructor(a,b){super(a,b),this.sidebarView={length:0},this.calendarContainer=!1,this.addCommonMethodsToYearView(),this.calendar=this.getCalendarView()}addCommonMethodsToYearView(){const a=this;FC.views.year=FC.views.year.extend({selectDays:a.selectDays,getCalendarCreateView:a.getCalendarCreateView,getSidebarView:a.getSidebarView,getCurrentCvId:a.getCurrentCvId,getCalendarView:a.getCalendarView,showRightPanelForm:a.showRightPanelForm,getSelectedUsersCalendar:a.getSelectedUsersCalendar,registerClearFilterButton:a.registerClearFilterButton,clearFilterButton:a.clearFilterButton,registerFilterTabChange:a.registerFilterTabChange,sidebarView:a.sidebarView,registerAfterSubmitForm:a.registerAfterSubmitForm,registerViewRenderEvents:a.registerViewRenderEvents,appendSubDateRow:a.appendSubDateRow,refreshDatesRowView:a.refreshDatesRowView,generateYearList:a.generateYearList,updateCountTaskCalendar:a.updateCountTaskCalendar,registerDatesChange:a.registerDatesChange,addHeaderButtons:a.addHeaderButtons,browserHistoryConfig:a.browserHistoryConfig,readonly:a.readonly,container:a.container,showChangeDateButtons:a.showChangeDateButtons,showTodayButtonCheckbox:a.showTodayButtonCheckbox})}renderCalendar(){let a=this,b=this.setCalendarOptions(),c={header:{left:'year,month,'+app.getMainParams('weekView')+','+app.getMainParams('dayView'),center:'prevYear,prev,title,next,nextYear',right:'today'},editable:!a.readonly,views:{basic:{eventLimit:!1},year:{eventLimit:10,eventLimitText:app.vtranslate('JS_COUNT_RECORDS'),titleFormat:'YYYY',select:function(){},loadView:function(){a.getCalendarView().fullCalendar('getCalendar').view.render()}},month:{titleFormat:'YYYY MMMM',loadView:function(){a.loadCalendarData()}},week:{titleFormat:'YYYY MMM D',loadView:function(){a.loadCalendarData()}},day:{titleFormat:'YYYY MMM D',loadView:function(){a.loadCalendarData()}},basicDay:{type:'agendaDay',loadView:function(){a.loadCalendarData()}}},select:function(d,f){a.selectDays(d,f),a.getCalendarView().fullCalendar('unselect')},eventRender:function(d,f){a.eventRenderer(d,f)},viewRender:function(d){'year'!==d.type&&a.loadCalendarData(d)},addCalendarEvent(d){a.getCalendarView().fullCalendar('renderEvent',a.getEventData(d))}};c=Object.assign(b,c),c.eventClick=this.readonly?'':function(d,f){f.preventDefault(),a.getCalendarSidebarData($(this).attr('href'))},this.calendar.fullCalendar(c)}registerChangeView(){}addHeaderButtons(){if(!this.calendarContainer.find('.js-calendar__view-btn').length){let a=this.calendarContainer.prev('.js-calendar__header-buttons'),b=a.find('.js-calendar__view-btn').clone(),c=a.find('.js-calendar__filter-container').clone();this.calendarContainer.find('.fc-left').prepend(b),this.calendarContainer.find('.fc-center').after(c),this.registerClearFilterButton(),this.registerFilterTabChange()}}registerSwitchEvents(){const a=this.getCalendarView();let b,c,d=$('.js-calendar__tab--filters'),f=d.find('.js-switch--showType'),g=d.find('.js-switch--switchingDays'),h=app.getMainParams('historyParams',!0);''===h?(b='workDays'===app.getMainParams('switchingDays')&&'all'!==app.moduleCacheGet('defaultSwitchingDays'),c='current'===app.getMainParams('showType')&&'history'!==app.moduleCacheGet('defaultShowType'),!c&&f.find('.js-switch--label-off').button('toggle')):(app.setMainParams('showType',h.time),app.setMainParams('switchingDays',''===h.hiddenDays?'all':'workDays')),f.on('change','input',j=>{const k=$(j.currentTarget);'undefined'==typeof k.data('on-text')?'undefined'!=typeof k.data('off-text')&&(app.setMainParams('showType','history'),app.moduleCacheSet('defaultShowType','history')):(app.setMainParams('showType','current'),app.moduleCacheSet('defaultShowType','current')),a.fullCalendar('getCalendar').view.options.loadView()}),g.length&&('undefined'!=typeof b&&!b&&g.find('.js-switch--label-off').button('toggle'),g.on('change','input',j=>{const k=$(j.currentTarget);let l=[];'undefined'==typeof k.data('on-text')?'undefined'!=typeof k.data('off-text')&&(app.setMainParams('switchingDays','all'),app.moduleCacheSet('defaultSwitchingDays','all')):(app.setMainParams('switchingDays','workDays'),app.moduleCacheSet('defaultSwitchingDays','workDays'),l=app.getMainParams('hiddenDays',!0)),a.fullCalendar('option','hiddenDays',l),a.fullCalendar('option','height',this.setCalendarHeight()),'year'===a.fullCalendar('getView').type&&this.registerViewRenderEvents(a.fullCalendar('getView'))}))}appendSubDateRow(a){this.calendarContainer.find('.js-dates-row').length||(this.subDateRow=$(`
								<div class="js-scroll js-dates-row u-overflow-auto-lg-down order-4 flex-grow-1 position-relative my-1 w-100" data-js="perfectScrollbar | container">
									<div class="d-flex flex-nowrap w-100">
										<div class="js-sub-date-list w-100 sub-date-list row no-gutters flex-nowrap nav nav-tabs" data-js="data-type"></div>
									</div>
								</div>
								`),a.append(this.subDateRow),$(window).width()>app.breakpoints.lg&&app.showNewScrollbar(this.subDateRow,{suppressScrollY:!0}))}registerViewRenderEvents(a){this.calendarContainer=this.getCalendarView();let b=this.calendarContainer.find('.fc-toolbar.fc-header-toolbar');this.showChangeDateButtons(a,b),this.appendSubDateRow(b),this.refreshDatesRowView(a),this.addHeaderButtons(),this.showTodayButtonCheckbox(b)}showTodayButtonCheckbox(a){let b=a.find('.fc-today-button'),c=b.hasClass('fc-state-disabled')?'fa-calendar-check':'fa-calendar',d=`${app.vtranslate('JS_CURRENT')} ${a.find('.fc-state-active').text().toLowerCase()}`;b.removeClass('.fc-button'),b.html(`<div class="js-popover-tooltip--day-btn" data-toggle="popover"><span class="far fa-lg ${c}"></span></div>`),app.showPopoverElementView(b.find('.js-popover-tooltip--day-btn'),{content:d,container:'.fc-today-button .js-popover-tooltip--day-btn'})}showChangeDateButtons(a,b){let c=a.type,d=b.find('.fc-prev-button, .fc-next-button'),f=b.find('.fc-prevYear-button, .fc-nextYear-button');'agendaWeek'===c?c='week':'agendaDay'==c&&(c='day'),calendarLoaded||(f.first().html(`<span class="fas fa-xs fa-minus mr-1"></span>${a.options.buttonText.year}`),f.last().html(`${a.options.buttonText.year}<span class="fas fa-xs fa-plus ml-1"></span>`)),'year'!==a.type&&(d.first().html(`<span class="fas fa-xs fa-minus mr-1"></span>${a.options.buttonText[c]}`),d.last().html(`${a.options.buttonText[c]}<span class="fas fa-xs fa-plus ml-1"></span>`)),'year'===a.type?(d.hide(),f.show()):'month'===a.type?(d.show(),f.show()):(d.show(),f.hide())}refreshDatesRowView(a){const b=this;switch(a.type){case'year':b.generateYearList(a.intervalStart,a.intervalEnd);break;case'month':b.generateSubMonthList(a.intervalStart,a.intervalEnd);break;case'week':case'agendaWeek':b.generateSubWeekList(a.start,a.end);break;default:b.generateSubDaysList(a.start,a.end);}b.updateCountTaskCalendar(),b.registerDatesChange()}registerDatesChange(){this.container.find('.js-dates-row .js-sub-record').on('click',a=>{let b=$(a.currentTarget);b.addClass('active'),this.getCalendarView().fullCalendar('gotoDate',moment(b.data('date'),'YYYY-MM-DD'))})}getCurrentCvId(){return $('.js-calendar__extended-filter-tab .active').parent('.js-filter-tab').data('cvid')}registerFilterTabChange(){const a=this;this.getCalendarView().find('.js-calendar__extended-filter-tab').on('shown.bs.tab',function(){a.getCalendarView().fullCalendar('getCalendar').view.options.loadView()})}getSelectedUsersCalendar(){const a=this.getSidebarView();let b=a.find('.js-input-user-owner-id:checked'),c=a.find('.js-input-user-owner-id-ajax'),d=a.find('.js-input-role-owner-id-ajax'),f=[];return 0<b.length?b.each(function(){f.push($(this).val())}):0<c.length&&(f=c.val().concat(d.val())),f}getSidebarView(){return this.sidebarView.length||(this.sidebarView=$('#rightPanel')),this.sidebarView}updateCountTaskCalendar(){let a=this.container.find('.js-dates-row'),b=a.find('.js-sub-record'),c={},d=CONFIG.dateFormat.toUpperCase(),f=this.getSelectedUsersCalendar();0===f.length&&(f=app.getMainParams('usersId')),f===void 0&&(f=[app.getMainParams('userId')]),b.each(function(g){let j=$(this).data('date'),k=$(this).data('type');'years'===k?c[g]=[moment(j+'-01').format(d)+' 00:00:00',moment(j+'-01').endOf('year').format(d)+' 23:59:59']:'months'===k?c[g]=[moment(j).format(d)+' 00:00:00',moment(j).endOf('month').format(d)+' 23:59:59']:'weeks'===k?c[g]=[moment(j).format(d)+' 00:00:00',moment(j).add(6,'day').format(d)+' 23:59:59']:'days'===k&&(c[g]=[moment(j).format(d)+' 00:00:00',moment(j).format(d)+' 23:59:59'])}),AppConnector.request({module:'Calendar',action:'Calendar',mode:'getCountEventsGroup',dates:c,user:f,time:app.getMainParams('showType'),cvid:this.getCurrentCvId()}).done(function(g){b.each(function(h){$(this).find('.js-count-events').removeClass('hide').html(g.result[h])})})}registerEditForm(a){let b=Vtiger_Edit_Js.getInstanceByModuleName(a.find('[name="module"]').val()),c=new Vtiger_Header_Js,d=[],f=a.find('form[name="QuickCreate"]');b.registerBasicEvents(f),f.validationEngine(app.validationEngineOptions),c.registerHelpInfo(f),App.Fields.Picklist.showSelect2ElementView(a.find('select')),a.find('.js-summary-close-edit').on('click',()=>{this.getCalendarCreateView()}),d.callbackFunction=this.registerAfterSubmitForm(this,f),c.registerQuickCreatePostLoadEvents(f,d),new App.Fields.Text.Editor(a.find('.js-editor'),{height:'5em',toolbar:'Min'})}getCalendarSidebarData(a){const b=this,c=$.Deferred(),d=$.progressIndicator({blockInfo:{enabled:!0}});return $.isNumeric(a)&&(a={module:app.getModuleName(),view:'EventForm',record:a}),AppConnector.request(a).done(f=>{b.openRightPanel(),d.progressIndicator({mode:'hide'});let g=b.getSidebarView();g.find('.js-qc-form').html(f),b.showRightPanelForm(),g.find('form').length?b.registerEditForm(g):(app.showNewScrollbar(g.find('.js-calendar__form__wrapper'),{suppressScrollX:!0}),g.find('.js-activity-state .js-summary-close-edit').on('click',function(){b.getCalendarCreateView()}),g.find('.js-activity-state .editRecord').on('click',function(){b.getCalendarSidebarData($(this).data('id'))})),c.resolve(g.find('.js-qc-form'))}).fail(f=>{d.progressIndicator({mode:'hide'}),app.errorLog(f)}),c.promise()}loadCalendarData(a=this.getCalendarView().fullCalendar('getView')){const b=this;let c=CONFIG.dateFormat.toUpperCase(),d=b.getCurrentCvId(),f=this.getCalendarView();f.fullCalendar('removeEvents');let g=$.progressIndicator({blockInfo:{enabled:!0}}),h=b.getSelectedUsersCalendar();0===h.length&&(h=app.getMainParams('usersId')),h===void 0&&(h=[app.getMainParams('userId')]),b.clearFilterButton(h,d),'agendaDay'===a.type&&(b.selectDays(a.start,a.end),a.end=a.end.add(1,'day'));let j={module:'Calendar',action:'Calendar',mode:'getEvents',start:a.start.format(c),end:a.end.format(c),user:h,time:app.getMainParams('showType'),cvid:d,historyUrl:`index.php?module=Calendar&view=CalendarExtended&history=true&viewType=${a.type}&start=${a.start.format(c)}&end=${a.end.format(c)}&user=${h}&time=${app.getMainParams('showType')}&cvid=${d}&hiddenDays=${a.options.hiddenDays}`},k=window.AppConnector.request;!this.readonly&&calendarLoaded&&(k=window.AppConnector.requestPjax),this.browserHistoryConfig&&Object.keys(this.browserHistoryConfig).length&&!calendarLoaded&&(j=Object.assign(j,{start:this.browserHistoryConfig.start,end:this.browserHistoryConfig.end,user:this.browserHistoryConfig.user,time:this.browserHistoryConfig.time,cvid:this.browserHistoryConfig.cvid}),k=window.AppConnector.request,app.setMainParams('showType',this.browserHistoryConfig.time),app.setMainParams('usersId',this.browserHistoryConfig.user)),k(j).done(l=>{f.fullCalendar('removeEvents'),f.fullCalendar('addEventSource',l.result),g.progressIndicator({mode:'hide'})}),b.registerViewRenderEvents(a),calendarLoaded=!0}clearFilterButton(a,b){let c=parseInt(app.getMainParams('userId')),d=app.getMainParams('showType'),f=(0===a.length||1===a.length&&parseInt(a)===c)&&b===void 0&&'current'===d;$('.js-calendar__clear-filters').toggleClass('d-none',f)}registerClearFilterButton(){const a=this.getSidebarView(),b=this.getCalendarView();let c=b.find('.js-calendar__clear-filters');app.showPopoverElementView(c),c.on('click',()=>{$('.js-calendar__extended-filter-tab a').removeClass('active'),app.setMainParams('showType','current'),app.moduleCacheSet('defaultShowType','current'),a.find('input:checkbox').prop('checked',!1),a.find('option:selected').prop('selected',!1);let d=a.find('.js-switch--showType [class*="js-switch--label"]'),f=a.find('.js-input-user-owner-id[value='+app.getMainParams('userId')+']');d.last().removeClass('active'),d.first().addClass('active'),f.length?f.prop('checked',!0):app.setMainParams('usersId',void 0),b.fullCalendar('getCalendar').view.options.loadView()})}generateYearList(a){const c=this.container.find('.js-dates-row');let d=moment(a).subtract(1,'year'),f=moment(a),g=moment(a).add(1,'year'),h='',j='';for(;d<=g;)j=d.format('YYYY')===f.format('YYYY')?'active':'',h+=`<div class="js-sub-record sub-record col-4 nav-item" data-date="${d.format('YYYY')}" data-type="years" data-js="click | class: active">
					<div class="sub-record-content nav-link ${j}">
						<div class="sub-date-name">
							${d.format('YYYY')}
							<div class="js-count-events count badge c-badge--md ml-1" data-js="html">0</div>
						</div>
					</div>
				</div>`,d=moment(d).add(1,'year');c.find('.js-sub-date-list').html(h)}generateSubMonthList(a){let c=this.container.find('.js-dates-row'),d=parseInt(moment(a).locale('en').format('M'))-1,f='',g='';for(let h=0;12>h;++h)g=h===d?'active':'',f+=`<div class="js-sub-record sub-record nav-item col-1 px-0" data-type="months" data-date="${moment(a).month(h).format('YYYY-MM')}" data-js="click | class: active">
					<div class="sub-record-content nav-link ${g}">
						<div class="sub-date-name">${app.vtranslate('JS_'+moment().month(h).format('MMM').toUpperCase()).toUpperCase()}
							<div class="js-count-events count badge c-badge--md ml-1" data-js="html">0</div>
						</div>
					</div>
				</div>`;c.find('.js-sub-date-list').html(f)}generateSubWeekList(a){let c=this.container.find('.js-dates-row'),d=moment(a).subtract(5,'weeks'),f=moment(a).format('WW'),g=moment(a).add(6,'weeks'),h='';for(;d<=g;){let j='';d.format('WW')===f&&(j=' active'),h+='<div class="js-sub-record sub-record nav-item col-1 px-0" data-type="weeks" data-date="'+d.format('YYYY-MM-DD')+'" data-js="click | class: active"><div class="sub-record-content nav-link'+j+'"><div class="sub-date-name">'+app.vtranslate('JS_WEEK_SHORT')+' '+d.format('WW')+'<div class="js-count-events count badge c-badge--md ml-1" data-js="html">0</div></div></div></div>',d=moment(d).add(1,'weeks')}c.find('.js-sub-date-list').html(h)}generateSubDaysList(a){let c=this.container.find('.js-dates-row'),d=moment(a).subtract(5,'days'),f=moment(a).format('DDD'),g=moment(a).add(7,'days'),h=g.diff(d,'days'),j='';for(let l,k=0;k<h;++k){if(l='','workDays'===app.getMainParams('switchingDays')&&'all'!==app.moduleCacheGet('defaultSwitchingDays')&&-1!==$.inArray(d.day(),app.getMainParams('hiddenDays',!0))){d=moment(d).add(1,'days'),h++;continue}d.format('DDD')===f&&(l=' active'),j+='<div class="js-sub-record sub-record nav-item col-1 px-0" data-type="days" data-date="'+d.format('YYYY-MM-DD')+'" data-js="click | class: active"><div class="sub-record-content nav-link'+l+'"><div class="sub-date-name">'+app.vtranslate('JS_DAY_SHORT')+' '+d.format('DD')+'<div class="js-count-events count badge c-badge--md ml-1" data-js="html">0</div></div></div></div>',d=moment(d).add(1,'days')}c.find('.js-sub-date-list').html(j)}selectDays(a,b){this.container.find('.js-right-panel-event-link').tab('show');let c=app.getMainParams('startHour'),d=app.getMainParams('endHour'),f=this.getCalendarView().fullCalendar('getView');!1==b.hasTime()&&b.add(-1,'days'),a=a.format(),b=b.format(),''==c&&(c='00'),''==d&&(d='00'),this.getCalendarCreateView().done(function(g){if(!(0>=g.length)){if('agendaDay'!=f.name&&'agendaWeek'!=f.name&&(a=a+'T'+c+':00',b=b+'T'+d+':00',a==b)){let l=g.find('[name="activitytype"]').val(),m=JSON.parse(g.find('[name="defaultOtherEventDuration"]').val()),n=0;for(let o in m)if(m[o].activitytype===l){n=parseInt(m[o].duration);break}b=moment(b).add(n,'minutes').toISOString()}let h=g.find('[name="date_start"]').data('dateFormat').toUpperCase(),j=g.find('[name="time_start"]').data('format'),k='';k=24==j?'HH:mm':'hh:mm A',g.find('[name="date_start"]').val(moment(a).format(h)),g.find('[name="due_date"]').val(moment(b).format(h)),!0===g.find('.js-autofill').prop('checked')?Calendar_Edit_Js.getInstance().getFreeTime(g):(g.find('[name="time_start"]').val(moment(a).format(k)),g.find('[name="time_end"]').val(moment(b).format(k)))}})}registerUsersChange(a){a.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id').on('change',()=>{this.getCalendarView().fullCalendar('getCalendar').view.options.loadView()}),this.registerPinUser()}registerAfterSubmitForm(a){const c=this.getCalendarView();return function(f){if(f.success){let g=f.result.activitystatus.value,h=app.getMainParams('activityStateLabels',!0).history,j=$.inArray(g,h),k=app.getMainParams('showType');if(-1!==j&&'history'===k||-1===j&&'history'!==k)if(c.fullCalendar('clientEvents',f.result._recordId)[0])a.updateCalendarEvent(f.result._recordId,f.result);else{const l=c.fullCalendar('getCalendar');'year'===l.view.type?l.view.render():l.view.options.addCalendarEvent(f.result),void 0!==f.result.followup.value&&c.fullCalendar('removeEvents',f.result.followup.value)}a.refreshDatesRowView(c.fullCalendar('getView')),a.getSidebarView().find('.js-qc-form').html(''),a.getCalendarCreateView(),window.popoverCache={}}}}openRightPanel(){let a=$('.js-calendar-right-panel');a.hasClass('hideSiteBar')&&a.find('.js-toggle-site-bar-right-button').trigger('click')}showRightPanelForm(){let a=$('.js-calendar-right-panel');a.find('.js-right-panel-event').hasClass('active')||a.find('.js-right-panel-event-link').trigger('click'),app.showNewScrollbar(a.find('.js-calendar__form__wrapper'),{suppressScrollX:!0})}registerSiteBarEvents(){let a=$('.js-calendar-right-panel');a.find('.js-show-sitebar').on('click',()=>{a.hasClass('hideSiteBar')&&a.find('.js-toggle-site-bar-right-button').trigger('click')})}getEventData(a){let b=this.getCalendarView(),c=b.fullCalendar('moment',a.date_start.value+' '+a.time_start.value),d=b.fullCalendar('moment',a.due_date.value+' '+a.time_end.value),f={id:a._recordId,title:a.subject.display_value,start:c.format(),end:d.format(),module:'Calendar',url:'index.php?module=Calendar&view=ActivityState&record='+a._recordId,className:['ownerCBg_'+a.assigned_user_id.value,' picklistCBr_Calendar_activitytype_'+a.activitytype.value,'js-popover-tooltip--record'],start_display:a.date_start.display_value,end_display:a.due_date.display_value};return a.isEditable&&app.getMainParams('showEditForm')&&(f.url='index.php?module=Calendar&view=EventForm&record='+f.id),f}updateCalendarEvent(a,b){const c=this.getCalendarView();let d=c.fullCalendar('clientEvents',a)[0];$.extend(d,this.getEventData(b)),c.fullCalendar('updateEvent',d)}getCalendarCreateView(){const a=this;let b=a.getSidebarView(),c=b.find('.js-qc-form'),d=$.Deferred();if(0<c.find('form').length&&0===c.find('input[name=record]').length)return d.resolve(c),d.promise();let f=$.progressIndicator({blockInfo:{enabled:!0}});return this.getCalendarSidebarData({module:app.getModuleName(),view:'EventForm'}).done(()=>{f.progressIndicator({mode:'hide'}),a.registerAutofillTime(),d.resolve(c)}).fail(g=>{f.progressIndicator({mode:'hide'}),app.errorLog(g)}),d.promise()}registerAutofillTime(){app.getMainParams('autofillTime')&&this.container.find('.js-autofill').prop('checked','checked').trigger('change')}registerPinUser(){$('.js-pin-user').off('click').on('click',function(){const a=$(this);AppConnector.request({module:app.getModuleName(),action:'Calendar',mode:'pinOrUnpinUser',element_id:a.data('elementid')}).done(b=>{let c=b.result;'unpin'===c?a.find('.js-pin-icon').removeClass('fas').addClass('far'):'pin'===c?a.find('.js-pin-icon').removeClass('far').addClass('fas'):Vtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'))})})}registerAddForm(){const a=this;let b=a.getSidebarView();a.getCalendarCreateView();let c=app.getMainParams('usersId');c===void 0&&(c=[app.getMainParams('userId')]),AppConnector.request(`index.php?module=Calendar&view=RightPanelExtended&mode=getUsersList&user=${c}`).done(function(d){if(d){let f=b.find('.js-users-form');f.html(d),a.registerUsersChange(f),App.Fields.Picklist.showSelect2ElementView(f.find('select')),app.showNewScrollbar(f,{suppressScrollX:!0})}}),AppConnector.request(`index.php?module=Calendar&view=RightPanelExtended&mode=getGroupsList&user=${c}`).done(function(d){if(d){let f=b.find('.js-group-form');f.html(d),a.registerUsersChange(f),App.Fields.Picklist.showSelect2ElementView(f.find('select')),f.addClass('u-min-h-30per'),app.showNewScrollbar(f,{suppressScrollX:!0})}})}findElementOnList(a){let b=$(a.target),c=b.val().toLowerCase(),d=b.closest('.js-filter__container');d.find('.js-filter__item__value').filter(function(){let f=$(this).closest('.js-filter__item__container');-1<$(this).text().trim().toLowerCase().indexOf(c)?f.removeClass('d-none'):f.addClass('d-none')})}registerFilterForm(){const a=this;this.getSidebarView().find('a[data-toggle="tab"]').one('shown.bs.tab',function(){$('.js-filter__search').on('keyup',a.findElementOnList.bind(a))})}registetPopoverButtonsClickEvent(){$(document).on('click','.js-calendar-popover__button',a=>{a.preventDefault(),this.getCalendarSidebarData($(a.currentTarget).attr('href'))})}registerEvents(){super.registerEvents(),this.registerAddForm(),this.registerSiteBarEvents(),this.registerFilterForm(),this.registetPopoverButtonsClickEvent(),ElementQueries.listen()}};